<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>adjustcarryforward • growthcleanr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="adjustcarryforward" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">growthcleanr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Getting started</li>
    <li>
      <a href="articles/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="articles/usage.html">Usage</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Advanced topics</li>
    <li>
      <a href="articles/configuration.html">Configuration</a>
    </li>
    <li>
      <a href="articles/output.html">Understanding growthcleanr output</a>
    </li>
    <li>
      <a href="articles/adult-algorithm.html">Adult algorithm</a>
    </li>
    <li>
      <a href="articles/utilities.html">Utilities for computing pediatric BMI percentiles, Z-scores, and related tools</a>
    </li>
    <li>
      <a href="articles/large-data-sets.html">Working with large data sets</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mitre/growthcleanr">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>adjustcarryforward</h1>
    </div>

<div id="adjustcarryforward" class="section level1">

<p>An experiment in re-assessing height measurements initially marked as <code>Exclude-Carried-Forward</code> based on growth velocity is included in the current version of this package.</p>
<p>Because of the complexity involved in this approach, this is implemented as an independent function with its own driver script for further study. Our hope is to revise this strategy, and, if feasible, incorporate it into the main <code><a href="reference/cleangrowth.html">cleangrowth()</a></code> algorithm.</p>
<div id="running-the-experiment" class="section level2">
<h2 class="hasAnchor">
<a href="#running-the-experiment" class="anchor"></a>Running the experiment</h2>
<p>The primary function is called <code><a href="reference/adjustcarryforward.html">adjustcarryforward()</a></code>, and is implemented in the file <code>R/adjustcarryforward.R</code>. It is separate from the main <code>R/growth.R</code> file as it is set up to be run separately, using the output from <code><a href="reference/cleangrowth.html">cleangrowth()</a></code>. The <code><a href="reference/adjustcarryforward.html">adjustcarryforward()</a></code> function is available in the main package namespace.</p>
<p>The primary tool from running this function is the script <code>exec/testadjustcf.R</code>. This will run the experimental function on an existing dataset (specified as a CSV file) and pass it a sweep of parameter values for testing the new strategy. This tool will produce a combined output file that includes the original result alongside the resulting re-inclusion determination for each measurement for each parameter value run.</p>
<p>For example, if you have run <code><a href="reference/cleangrowth.html">cleangrowth()</a></code> on the <code>syngrowth</code> synthetic data set provided with <code>growthcleanr</code> as described in the main <code>README.md</code> file, save it to a CSV file:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">fwrite</span>(cleaned_data, <span class="st">"cleaned.csv"</span>, <span class="at">row.names =</span> F)</span></code></pre></div>
<p>Note that the column names should be as described for <code>cleaned_data</code> the Example under Quickstart.</p>
<p>First navigate to the growthcleanr package directory in the command line. Then execute the sweep script is executed from the command line on the cleaned data file for as follows (with the assumption that cleaned.csv is in your current directory; otherwise, make sure to specify the path relative to your current directory):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Rscript exec/testadjustcf.R cleaned.csv</span></code></pre></div>
<p>By default, the script will generate a range of values with nine steps for the following parameters, where the min and max surround the default value:</p>
<table>
<thead><tr class="header">
<th>parameter</th>
<th>default</th>
<th>min</th>
<th>max</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>minfactor</code></td>
<td>0.5</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td><code>maxfactor</code></td>
<td>2</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td><code>banddiff</code></td>
<td>3</td>
<td>0</td>
<td>6</td>
</tr>
<tr class="even">
<td><code>banddiff_plus</code></td>
<td>5.5</td>
<td>0</td>
<td>11</td>
</tr>
<tr class="odd">
<td><code>min_ht.exp_under</code></td>
<td>2</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td><code>min_ht.exp_over</code></td>
<td>0</td>
<td>-1</td>
<td>1</td>
</tr>
<tr class="odd">
<td><code>max_ht.exp_under</code></td>
<td>0.33</td>
<td>0</td>
<td>0.66</td>
</tr>
<tr class="even">
<td><code>max_ht.exp_over</code></td>
<td>1.5</td>
<td>0</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>The determination of these values depends on the search type (specified with the option <code>--searchtype</code>:</p>
<ul>
<li>
<p><code>random</code> (default): Values will be generated randomly, with equal amounts of values on either side of the midpoint. The midpoint is always included.</p>
<ul>
<li>Note that if an even number is specified for <code>--gridlength</code>, one will be added to include the midpoint in the run.</li>
<li>A random seed can be specified with <code>--seed</code> (default 7).</li>
</ul>
</li>
<li><p><code>line-grid</code>: Values will be evenly distributed along the range for each parameter. If the <code>--gridlength</code> specified is odd, this will include the midpoint.</p></li>
<li>
<p><code>full-grid</code>: Values for each included parameter will evenly distributed along the range for each parameter and in a full combination between all parameters.</p>
<ul>
<li>Thus, the amount of runs done will be the <code>--gridlength</code>^(number of included parameters).</li>
<li>Default includes a full grid search among all parameters. To specify use of only specific parameters, use the <code>--param</code> option, which specifies a CSV of the following format:</li>
</ul>
<table>
<thead><tr class="header">
<th>parameter</th>
<th>include</th>
<th>value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>minfactor</code></td>
<td>T</td>
<td></td>
</tr>
<tr class="even">
<td><code>maxfactor</code></td>
<td>F</td>
<td>3</td>
</tr>
<tr class="odd">
<td><code>banddiff</code></td>
<td>F</td>
<td></td>
</tr>
<tr class="even">
<td><code>banddiff_plus</code></td>
<td>F</td>
<td></td>
</tr>
<tr class="odd">
<td><code>min_ht.exp_under</code></td>
<td>T</td>
<td></td>
</tr>
<tr class="even">
<td><code>min_ht.exp_over</code></td>
<td>F</td>
<td></td>
</tr>
<tr class="odd">
<td><code>max_ht.exp_under</code></td>
<td>F</td>
<td>.5</td>
</tr>
<tr class="even">
<td><code>max_ht.exp_over</code></td>
<td>F</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>The first column specifies all the parameter names; the second specifies a true or false value for whether or not the parameter should be included; the third specifies a constant value to be used for not included parameters, left empty if the value should be the default.</li>
<li>In the above example, <code>minfactor</code> and <code>min_ht.exp_under</code> will be included, and <code>maxfactor</code> and <code>max_ht_exp_under</code> will not be included, but will use 3 and .5 as their values.</li>
<li>Warning: this will take much longer!</li>
</ul>
</li>
</ul>
<p>The default number of sweep steps is 9; this can be changed with the option <code>--gridlength</code>.</p>
<p>For testing options of handling strings of multiple carried forward values, several options from 0 to 3 have been incorporated. 0 (no change) is the default option, and can be changed <code>--exclude_opt</code>. More information on each option can be found in the <code><a href="reference/adjustcarryforward.html">adjustcarryforward()</a></code> documentation.</p>
<p>In addition to multiple options for carried-forward strings, “answers” for a given dataset have been incorporated. When the <code>--add_answers</code> flag is set to <code>TRUE</code> (<code>TRUE</code> by default), a column called <code>acf_answers</code> will have, for each height value, “Definitely Exclude”, “Definitely Include”, or “Unknown” (if it does not fall in either category). Weight values are set as <code>NA</code>.</p>
<p>For example, for a 9-step sweep with the default search type, <code>random</code>, the parameters passed to the function in each pass will be:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>run minfactor   maxfactor   banddiff    banddiff_plus   min_ht.exp_under    min_ht.exp_over max_ht.exp_under    max_ht.exp_over</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="fl">0.494454649</span> <span class="fl">0.331710969</span> <span class="fl">1.681997601</span> <span class="fl">5.438065292</span> <span class="fl">0.371428523</span> <span class="sc">-</span><span class="fl">0.200524185</span>    <span class="fl">0.296497153</span> <span class="fl">0.244186167</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="fl">0.198872727</span> <span class="fl">0.918207332</span> <span class="fl">0.0261138</span>   <span class="fl">0.361051567</span> <span class="fl">0.370286443</span> <span class="sc">-</span><span class="fl">0.618056939</span>    <span class="fl">0.318943811</span> <span class="fl">0.280842425</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="fl">0.057848889</span> <span class="fl">0.343496154</span> <span class="fl">2.957211272</span> <span class="fl">3.448713172</span> <span class="fl">0.758593493</span> <span class="sc">-</span><span class="fl">0.240298769</span>    <span class="fl">0.189112731</span> <span class="fl">0.586874211</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="fl">0.034874339</span> <span class="fl">0.462954204</span> <span class="fl">0.949754412</span> <span class="fl">2.697612725</span> <span class="fl">1.694048784</span> <span class="sc">-</span><span class="fl">0.563224398</span>    <span class="fl">0.237626234</span> <span class="fl">0.410851815</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="fl">0.5</span> <span class="dv">2</span>   <span class="dv">3</span>   <span class="fl">5.5</span> <span class="dv">2</span>   <span class="dv">0</span>   <span class="fl">0.33</span>    <span class="fl">1.5</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>   <span class="fl">0.621874695</span> <span class="fl">3.545623892</span> <span class="fl">4.918346826</span> <span class="fl">10.84063427</span> <span class="fl">2.996152267</span> <span class="fl">0.904217721</span> <span class="fl">0.585439346</span> <span class="fl">1.787876622</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   <span class="fl">0.896005213</span> <span class="fl">2.192603083</span> <span class="fl">3.885669706</span> <span class="fl">7.492214661</span> <span class="fl">3.581171147</span> <span class="fl">0.319534914</span> <span class="fl">0.537161064</span> <span class="fl">2.25658771</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>   <span class="fl">0.670031176</span> <span class="fl">2.90689554</span>  <span class="fl">5.990111082</span> <span class="fl">9.239964036</span> <span class="fl">3.676927744</span> <span class="fl">0.082569093</span> <span class="fl">0.568586483</span> <span class="fl">2.645760535</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>   <span class="fl">0.98603125</span>  <span class="fl">2.169401426</span> <span class="fl">5.718063961</span> <span class="fl">6.950459617</span> <span class="fl">2.91380773</span>  <span class="fl">0.816289079</span> <span class="fl">0.457654322</span> <span class="fl">2.540503306</span></span></code></pre></div>
<p>In a 9-step sweep with a <code>line-grid</code> search type, the parameters passed to the function in each pass will be:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>run  minfactor  maxfactor  banddiff  banddiff_plus  min_ht.exp_under  min_ht.exp_over  max_ht.exp_under  max_ht.exp_over</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">0</span>          <span class="dv">0</span>          <span class="dv">0</span>         <span class="dv">0</span>              <span class="dv">0</span>                 <span class="sc">-</span><span class="dv">1</span>               <span class="dv">0</span>                 <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="fl">0.125</span>      <span class="fl">0.5</span>        <span class="fl">0.75</span>      <span class="fl">1.375</span>          <span class="fl">0.5</span>               <span class="sc">-</span><span class="fl">0.75</span>            <span class="fl">0.0825</span>            <span class="fl">0.375</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="fl">0.25</span>       <span class="dv">1</span>          <span class="fl">1.5</span>       <span class="fl">2.75</span>           <span class="dv">1</span>                 <span class="sc">-</span><span class="fl">0.5</span>             <span class="fl">0.165</span>             <span class="fl">0.75</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="fl">0.375</span>      <span class="fl">1.5</span>        <span class="fl">2.25</span>      <span class="fl">4.125</span>          <span class="fl">1.5</span>               <span class="sc">-</span><span class="fl">0.25</span>            <span class="fl">0.2475</span>            <span class="fl">1.125</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="fl">0.5</span>        <span class="dv">2</span>          <span class="dv">3</span>         <span class="fl">5.5</span>            <span class="dv">2</span>                 <span class="dv">0</span>                <span class="fl">0.33</span>              <span class="fl">1.5</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    <span class="fl">0.625</span>      <span class="fl">2.5</span>        <span class="fl">3.75</span>      <span class="fl">6.875</span>          <span class="fl">2.5</span>               <span class="fl">0.25</span>             <span class="fl">0.4125</span>            <span class="fl">1.875</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>    <span class="fl">0.75</span>       <span class="dv">3</span>          <span class="fl">4.5</span>       <span class="fl">8.25</span>           <span class="dv">3</span>                 <span class="fl">0.5</span>              <span class="fl">0.495</span>             <span class="fl">2.25</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>    <span class="fl">0.875</span>      <span class="fl">3.5</span>        <span class="fl">5.25</span>      <span class="fl">9.625</span>          <span class="fl">3.5</span>               <span class="fl">0.75</span>             <span class="fl">0.5775</span>            <span class="fl">2.625</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>    <span class="dv">1</span>          <span class="dv">4</span>          <span class="dv">6</span>         <span class="dv">11</span>             <span class="dv">4</span>                 <span class="dv">1</span>                <span class="fl">0.66</span>              <span class="dv">3</span></span></code></pre></div>
<p>In a 3-step sweep with a <code>full-grid</code> search type, with the <code>--param</code> CSV specified as in the above example, the parameters passed to the function in each pass will be:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>run minfactor maxfactor banddiff banddiff_plus min_ht.exp_under min_ht.exp_over max_ht.exp_under max_ht.exp_over</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>       <span class="fl">0.0</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">0</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>       <span class="fl">0.5</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">0</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       <span class="fl">1.0</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">0</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>       <span class="fl">0.0</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">2</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>       <span class="fl">0.5</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">2</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>       <span class="fl">1.0</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">2</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>       <span class="fl">0.0</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">4</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>       <span class="fl">0.5</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">4</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>       <span class="fl">1.0</span>         <span class="dv">3</span>        <span class="dv">3</span>           <span class="fl">5.5</span>                <span class="dv">4</span>               <span class="dv">0</span>              <span class="fl">0.5</span>             <span class="fl">1.5</span></span></code></pre></div>
<p>The output in the working directory will contain the sweep parameters, like the above, in a file called <code>test_adjustcarrforward_DATE_TIME_parameters.csv</code>, and the output with adjustment results in a file called <code>test_adjustcarrforward_DATE_TIME.csv</code>, where DATE and TIME are the system date and time.</p>
<p>For example, a 5-step sweep with the <code>line-grid</code> search would be run with this command:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> Rscript exec/textadjustcf.R <span class="at">--gridlength</span> 5 <span class="at">--searchtype</span> line-grid cleaned.csv</span></code></pre></div>
<p>The parameter set for the sweep in file <code>test_adjustcarrforward_DATE_TIME_parameters.csv</code> would be:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>run  minfactor  maxfactor  banddiff  banddiff_plus  min_ht.exp_under  min_ht.exp_over  max_ht.exp_under  max_ht.exp_over</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">0</span>          <span class="dv">0</span>          <span class="dv">0</span>         <span class="dv">0</span>              <span class="dv">0</span>                 <span class="sc">-</span><span class="dv">1</span>               <span class="dv">0</span>                 <span class="dv">0</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="fl">0.25</span>       <span class="dv">1</span>          <span class="fl">1.5</span>       <span class="fl">2.75</span>           <span class="dv">1</span>                 <span class="sc">-</span><span class="fl">0.5</span>             <span class="fl">0.165</span>             <span class="fl">0.75</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="fl">0.5</span>        <span class="dv">2</span>          <span class="dv">3</span>         <span class="fl">5.5</span>            <span class="dv">2</span>                 <span class="dv">0</span>                <span class="fl">0.33</span>              <span class="fl">1.5</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="fl">0.75</span>       <span class="dv">3</span>          <span class="fl">4.5</span>       <span class="fl">8.25</span>           <span class="dv">3</span>                 <span class="fl">0.5</span>              <span class="fl">0.495</span>             <span class="fl">2.25</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">1</span>          <span class="dv">4</span>          <span class="dv">6</span>         <span class="dv">11</span>             <span class="dv">4</span>                 <span class="dv">1</span>                <span class="fl">0.66</span>              <span class="dv">3</span></span></code></pre></div>
<p>Note that an odd-numbered length will include the default values in the middle run of the sweep (hence the examples w/5 and 9 step sweeps).</p>
<p>And the first few result rows in <code>test_adjustcarrforward_DATE_TIME.csv</code> would be:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>id     subjid    sex  agedays  param     measurement  gcr_result                      run<span class="dv">-1</span>      run<span class="dv">-2</span>      run<span class="dv">-3</span>      run<span class="dv">-4</span>      run<span class="dv">-5</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1510</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">889</span>      HEIGHTCM  <span class="fl">84.9</span>         Exclude<span class="sc">-</span>Extraneous<span class="sc">-</span>Same<span class="sc">-</span>Day Missing    Missing    Missing    Missing    Missing</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1511</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">889</span>      HEIGHTCM  <span class="fl">89.06</span>        Include                     No Change  No Change  No Change  No Change  No Change</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1512</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">1071</span>     HEIGHTCM  <span class="fl">92.5</span>         Include                     No Change  No Change  No Change  No Change  No Change</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1513</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">1253</span>     HEIGHTCM  <span class="fl">96.2</span>         Include                     No Change  No Change  No Change  No Change  No Change</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1514</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">1435</span>     HEIGHTCM  <span class="fl">96.2</span>         Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward     No Change  No Change  Include    Include    Include</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1515</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">1435</span>     HEIGHTCM  <span class="fl">99.692</span>       Include                     No Change  No Change  No Change  No Change  No Change</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1516</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">1806</span>     HEIGHTCM  <span class="fl">106.1</span>        Include                     No Change  No Change  No Change  No Change  No Change</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1517</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">2177</span>     HEIGHTCM  <span class="fl">112.3</span>        Include                     No Change  No Change  No Change  No Change  No Change</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1518</span>   <span class="dv">775155</span>    <span class="dv">0</span>    <span class="dv">889</span>      WEIGHTKG  <span class="fl">13.1</span>         Include                     No Change  No Change  No Change  No Change  No Change</span></code></pre></div>
<p>The fifth row in the example above demonstrates the results of the experimental script; for runs 1 and 2, the result is not changes, but for runs 3-5, the measurement is adjusted for reinclusion. To demonstrate the range, the following is an extract of measurements only marked as carried forward exclusions by <code><a href="reference/cleangrowth.html">cleangrowth()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>id     subjid     sex  agedays  param     measurement  gcr_result                   run<span class="dv">-1</span>      run<span class="dv">-2</span>      run<span class="dv">-3</span>      run<span class="dv">-4</span>      run<span class="dv">-5</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1514</span>   <span class="dv">775155</span>     <span class="dv">0</span>    <span class="dv">1435</span>     HEIGHTCM  <span class="fl">96.2</span>         Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  No Change  Include    Include    Include</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1521</span>   <span class="dv">775155</span>     <span class="dv">0</span>    <span class="dv">1435</span>     WEIGHTKG  <span class="fl">15.3</span>         Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  No Change  No Change  No Change  No Change</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="dv">7952</span>   <span class="dv">1340377</span>    <span class="dv">1</span>    <span class="dv">1806</span>     HEIGHTCM  <span class="fl">107.1</span>        Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  Include    Include    Include    Include</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dv">7967</span>   <span class="dv">1340377</span>    <span class="dv">1</span>    <span class="dv">1806</span>     WEIGHTKG  <span class="fl">18.4</span>         Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  No Change  No Change  No Change  No Change</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="dv">41775</span>  <span class="dv">3643526</span>    <span class="dv">1</span>    <span class="dv">1253</span>     HEIGHTCM  <span class="fl">87.808</span>       Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  Include    Include    Include    Include    Include</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="dv">44901</span>  <span class="dv">3706097</span>    <span class="dv">0</span>    <span class="dv">4032</span>     HEIGHTCM  <span class="fl">138.8</span>        Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  Include    Include    Include    Include</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="dv">30011</span>  <span class="dv">5792371</span>    <span class="dv">1</span>    <span class="dv">3661</span>     HEIGHTCM  <span class="fl">145.4</span>        Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  Include    Include    Include    Include</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="dv">30013</span>  <span class="dv">5792371</span>    <span class="dv">1</span>    <span class="dv">4032</span>     HEIGHTCM  <span class="fl">145.4</span>        Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  No Change  No Change  No Change  No Change</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dv">30016</span>  <span class="dv">5792371</span>    <span class="dv">1</span>    <span class="dv">1071</span>     WEIGHTKG  <span class="fl">15.9</span>         Exclude<span class="sc">-</span>Carried<span class="sc">-</span>Forward  No Change  No Change  No Change  No Change  No Change</span></code></pre></div>
<p>Some of these values are not adjusted at all; one is from run 1 on, a few are from run 2 on, and one is from run 3 on.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Daymont Carrie, Grundmeier Robert, Miller Jeffrey, Campos Diego.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


