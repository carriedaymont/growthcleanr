<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Installation • growthcleanr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Installation">
<meta property="og:description" content="growthcleanr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">growthcleanr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    </li>
<li class="dropdown-header">Getting started</li>
    <li>
      <a href="../articles/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/usage.html">Usage</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Advanced topics</li>
    <li>
      <a href="../articles/configuration.html">Configuration</a>
    </li>
    <li>
      <a href="../articles/output.html">Understanding growthcleanr output</a>
    </li>
    <li>
      <a href="../articles/adult-algorithm.html">Adult algorithm</a>
    </li>
    <li>
      <a href="../articles/utilities.html">Utilities for computing pediatric BMI percentiles, Z-scores, and related tools</a>
    </li>
    <li>
      <a href="../articles/large-data-sets.html">Working with large data sets</a>
    </li>
    <li>
      <a href="../articles/next-steps.html">Next steps</a>
    </li>
    <li>
      <a href="../articles/developer-guidelines.html">Developer guidelines</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/carriedaymont/growthcleanr" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Installation</h1>
            
            <h4 data-toc-skip class="date">2023-03-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/carriedaymont/growthcleanr/blob/main/vignettes/installation.Rmd" class="external-link"><code>vignettes/installation.Rmd</code></a></small>
      <div class="hidden name"><code>installation.Rmd</code></div>

    </div>

    
    
<p><code>growthcleanr</code> has been developed and tested using R
versions 3.6 and 4+. It should work using R on Windows, macOS, or
Unix/Linux, although there are some additional <a href="#platform">platform-specific notes</a> you may wish to review.</p>
<p>To get started with <code>growthcleanr</code>, install it <a href="https://cran.r-project.org/package=growthcleanr" class="external-link">from
CRAN</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"growthcleanr"</span><span class="op">)</span></span></code></pre></div>
<p>To install the latest development version from GitHub using
<code>devtools</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"carriedaymont/growthcleanr"</span>, ref<span class="op">=</span><span class="st">"main"</span><span class="op">)</span></span></code></pre></div>
<p>Installing <code>growthcleanr</code> will install several additional
packages in turn.</p>
<p>See <a href="#dev-install">GitHub and source-level install for
developers</a> for additional details.</p>
<div class="section level2">
<h2 id="optional-packages">Optional packages<a class="anchor" aria-label="anchor" href="#optional-packages"></a>
</h2>
<p>These packages are not required for running
<code><a href="../reference/cleangrowth.html">cleangrowth()</a></code> and the other main functions of
<code>growthcleanr</code>, but may be necessary for certain use
cases.</p>
<ul>
<li><p><code>argparser</code> is used by the <code>gcdriver.R</code>
script for command line operation as described in <a href="large-data-sets.html">Working with large data sets</a></p></li>
<li><p><code>bit64</code> is necessary if you have long (64-bit) integer
<code>subjid</code> values</p></li>
</ul>
<p>These can be installed the usual way:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"argparser"</span>, <span class="st">"bit64"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="platform-specific-notes">
<a name="platform"></a>Platform-specific notes<a class="anchor" aria-label="anchor" href="#platform-specific-notes"></a>
</h2>
<div class="section level3">
<h3 id="windows">Windows<a class="anchor" aria-label="anchor" href="#windows"></a>
</h3>
<p>We have observed an issue with using <code>growthcleanr</code> with
Windows in a large agency where some R packages are installed by an
administrator for a user who may not have write access permissions on
the package folder. Similar issues may occur with some networked drives.
This caused problems with <code>growthcleanr</code>’s parallel
processing option. If possible, install R and its packages in locations
hosted on the same local machine and folder(s) for which the primary
user has write permissions. These steps should help to avoid this
problem.</p>
<p>Some users have reported that <code>growthcleanr</code> runs more
slowly on Windows compared with Linux or macOS.</p>
</div>
<div class="section level3">
<h3 id="macos">macOS<a class="anchor" aria-label="anchor" href="#macos"></a>
</h3>
<p><code>growthcleanr</code> uses the <a href="https://rdatatable.gitlab.io/data.table/" class="external-link"><code>data.table</code></a>
package for R extensively. <code>data.table</code> provides a faster
version of R’s data frames, and is used to improve
<code>growthcleanr</code> performance. Typically <code>data.table</code>
installs in a manner that will be able to take advantage of multiple
threads. You will know it worked successfully if, when you load the
<code>data.table</code> library in R, you see something like the
following:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data.table <span class="dv">1</span>.<span class="fl">12.2</span> using <span class="dv">2</span> <span class="fu">threads</span> (see ?getDTthreads).  Latest news<span class="sc">:</span> r<span class="sc">-</span>datatable.com</span></code></pre></div>
<p>That data.table reports “using 2 threads” indicates that installation
has succeeded. If the message reports using only one thread, see the
advice under the <a href="https://github.com/Rdatatable/data.table/wiki/Installation#openmp-enabled-compiler-for-mac" class="external-link">“OpenMP
enabled compiler for Mac” instructions</a> to re-install
<code>data.table</code>.</p>
<p>Users have reported errors running multiple batches with
<code>parallel = T</code> from within RStudio. If this happens, the
problem may be resolved by running from RGui or from the command line
using <code>Rscript</code>. An example standalone script that may be
used for this purpose is documented in <a href="large-data-sets.html">Working with large data sets</a>.</p>
</div>
<div class="section level3">
<h3 id="docker">Docker<a class="anchor" aria-label="anchor" href="#docker"></a>
</h3>
<p>This package includes a <code>Dockerfile</code> that enables easy
installation of R and <code>growthcleanr</code> on a machine with <a href="https://www.docker.com/" class="external-link">Docker</a> installed. It requires an
up-to-date Docker install, and a few command-line steps, but can save
time over installing R and <code>growthcleanr</code>’s dependencies
manually.</p>
<p>To install and run <code>growthcleanr</code> using Docker, open the
PowerShell on Windows, or open the Terminal on macOS, and enter this
<code>docker</code> command:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> docker run <span class="at">-it</span> ghcr.io/mitre/growthcleanr/gcr-image:latest R</span></code></pre></div>
<p>The image tag <code>latest</code> in the example above will refer to
the latest version of the package available on the main branch of the <a href="https://github.com/mitre/growthcleanr" class="external-link">mitre/growthcleanr</a>
repository, which is typically in close sync with the upstream <a href="https://github.com/carriedaymont/growthcleanr" class="external-link">carriedaymont/growthcleanr</a>
repository. This will usually be the latest released version of
<code>growthcleanr</code>. To explicitly choose a release by name,
replace <code>latest</code> with the release tag, e.g. for the released
package <code>v2.1.0</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> docker run <span class="at">-it</span> ghcr.io/mitre/growthcleanr/gcr-image:v2.1.0 R</span></code></pre></div>
<p>Whichever package you use, the first time this command is run, it
might take a few minutes to download and extract several necessary
components, but this should be fully automated. If successful, you
should see an R prompt, from which you can use the
<code>growthcleanr</code> package immediately.</p>
<p>This R environment is virtualized inside Docker, however, and
isolated from your local machine. Because of this, you will need to map
a local folder on your computer into the Docker environment to work with
your own data. For example, if you are on Windows, and your data is in
<code>C:\Users\exampleuser\analysis</code>, specify a mapping using the
added <code>-v</code> step below:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> docker run <span class="at">-it</span> <span class="at">-v</span> C:\Users\exampleusers\analysis:/usr/src/app <span class="dt">\</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    ghcr.io/mitre/growthcleanr/gcr-image:latest R</span></code></pre></div>
<p>Note that the slashes in file paths reverse direction from the
reference to the folder location on your Windows machine (before the
colon) to the folder location on the Docker container (after the colon);
this is intentional, and accounts for how the two different environments
reference disk locations.</p>
<p>Note also that when mapping a folder on Windows, you may be prompted
to confirm that you indeed want to “Share” the folder. This is a
standard Windows security practice, and it is okay to confirm and
proceed.</p>
<p>If you are on macOS, and your data is in
<code>/Users/exampleuser/analysis</code>, specify a folder mapping like
this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> docker run <span class="at">-it</span> <span class="at">-v</span> /Users/exampleuser/analysis:/usr/src/app <span class="dt">\</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    ghcr.io/mitre/growthcleanr/gcr-image:latest R</span></code></pre></div>
<p>If you mapped a folder, then inside the Docker environment’s R
prompt, when you then issue a command like <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files()</a></code>,
you should see a list of the same files in the R session that you see in
that folder on your desktop. You can now open and read your data files,
run <code><a href="../reference/cleangrowth.html">cleangrowth()</a></code> and other analyses, and write result
files to that same directory.</p>
<p>Exit the Docker R environment with <code><a href="https://rdrr.io/r/base/quit.html" class="external-link">quit()</a></code> as you
normally would. Any new files you saved will appear in the desktop
folder you mapped.</p>
</div>
</div>
<div class="section level2">
<h2 id="github-and-source-level-install-for-developers">
<a name="dev-install"></a>GitHub and source-level install for
developers<a class="anchor" aria-label="anchor" href="#github-and-source-level-install-for-developers"></a>
</h2>
<p>You can install the <code>growthcleanr</code> package directly from
GitHub using <code>devtools</code> in the R console with:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"carriedaymont/growthcleanr"</span>, ref<span class="op">=</span><span class="st">"main"</span><span class="op">)</span></span></code></pre></div>
<p><code>growthcleanr</code> itself has several dependencies, so it may
take a little while to download and install everything on your
machine.</p>
<p>Note that the <code>ref="main"</code> part is required; the default
value of <code>ref</code> refers to a branch name that is not used in
the <code>growthcleanr</code> repository, which instead uses a default
branch called “<code>main</code>”.</p>
<p>To install a different branch, for example if you want to test a
branch associated with a merge request, specify the branch name as the
value of <code>ref</code>.</p>
<p>If you are unable to install <code>devtools</code>, a similar
function is available in the <code>remotes</code> package:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"carriedaymont/growthcleanr"</span>, ref<span class="op">=</span><span class="st">"main"</span><span class="op">)</span></span></code></pre></div>
<p>If you are developing the <code>growthcleanr</code> code itself, you
can download or clone the <code>growthcleanr</code> source code and then
install it from source. To clone the source using <code>git</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">%</span> git clone https://github.com/carriedaymont/growthcleanr.git</span></code></pre></div>
<p>Once you have the <code>growthcleanr</code> package source, open an R
session from the <code>growthcleanr</code> base directory. Then install
growthcleanr using the R <code>devtools</code> package:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Carrie Daymont, Robert Grundmeier, Jeffrey Miller, Diego Campos.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
